<div class="col-md-6 offset-md-3 mt-5">
  <div class="card">
    <div class="card-header">
      <h4>Новый рецепт</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="formRecipe" (ngSubmit)="onSubmit()">
        <div class="form-floating mb-3">
          <input type="text" id="reecipeName" formControlName="name" class="form-control" placeholder=" "/>
          <label for="reecipeName">Название рецепта</label>
        </div>
        <div class="form-floating mb-3">
          <input type="number" id="reecipeTime" formControlName="time" class="form-control" placeholder=" "/>
          <label for="reecipeTime">Время приготовления (минут)</label>
        </div>
      </form>


      <div class="card">
        <div class="card-header">
          <h4>Ингредиенты</h4>
        </div>
        <div class="card-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-start bg-light"
                *ngFor="let ingredient of ingredients">
              <div class="ms-2 me-auto"> {{ingredient.name}} </div>
              {{ ingredient.count | prettyUnit:ingredient.unit }}
            </li>
          </ul>
          <form [formGroup]="formIngredient"
                (ngSubmit)="addIngredient(ingredientName.value, countIngredient.valueAsNumber, unitIngredient.value )">
            <div class="form-floating mb-3">
              <input type="text" id="ingredientName" formControlName="name" class="form-control" placeholder=" "
                     #ingredientName/>
              <label for="ingredientName">Название ингредиента</label>
            </div>
            <div class="form-floating mb-3">
              <input type="number" id="countIngredient" formControlName="count" class="form-control" placeholder=" "
                     #countIngredient/>
              <label for="countIngredient">Количество</label>
            </div>
            <div class="form-floating mb-3">
              <select formControlName="unit" id="unitName" class="form-control" placeholder=" " #unitIngredient>
                <option *ngFor="let unit of units; let i = index" [value]="units[i].id">
                  {{units[i].name}}
                </option>
              </select>
              <label for="unitName">Единица измерения</label>
            </div>
            <button [disabled]="loading" class="btn btn-light">
              <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
              Добавить ингредиент
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
